# ìŠ¤í”„ë§ DB 1í¸ - ë°ì´í„° ì ‘ê·¼ í•µì‹¬ ì›ë¦¬ - 2ê°• ì»¤ë„¥ì…˜í’€ê³¼ ë°ì´í„°ì†ŒìŠ¤ ì´í•´

# ì»¤ë„¥ì…˜ í’€

![Untitled](https://user-images.githubusercontent.com/61227459/186675899-3ef4ed29-d955-490d-b342-169a9cb9534b.png)

â†’ ë§¤ë²ˆ ì»¤ë„¥ì…˜ì„ ì–»ê¸° ìœ„í•´ ë³µì¡í•œ ê³¼ì •ì„ ê±°ì¹¨

## ì»¤ë„¥ì…˜ í’€ ì´ˆê¸°í™”

![Untitled 1](https://user-images.githubusercontent.com/61227459/186675901-94360f97-587a-487a-a264-34f73422cd0f.png)

â†’ TCP/IPë¡œ DBì™€ ì»¤ë„¥ì…˜ì´ ì—°ê²°ë˜ì–´ ìˆê¸° ë•Œë¬¸ì— ì–¸ì œë“ ì§€ ì¦‰ì‹œ SQLì„ DBì— ì „ë‹¬ ê°€ëŠ¥

## ì»¤ë„¥ì…˜ í’€ ì‚¬ìš©

1. ì´ë¯¸ ìƒì„±ë˜ì–´ ìˆëŠ” ì»¤ë„¥ì…˜ì„ ê°ì²´ ì°¸ì¡°ë¡œ ê°€ì ¸ë‹¤ í™œìš©
    
    ![Untitled 2](https://user-images.githubusercontent.com/61227459/186675886-ef8723b5-05bd-4289-ae03-fb03adaa4578.png)
    
2. ì»¤ë„¥ì…˜ì„ ì“°ê³  ë°˜í™˜ (ì¢…ë£Œ X)
    
    ![Untitled 3](https://user-images.githubusercontent.com/61227459/186675891-8ede6794-80ad-48c2-a735-83340f56c7b3.png)

`HikariCP`ê°€ ìŠ¤í”„ë§ì—ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ì œê³µ ë¨

# DataSource

`DriverManager`, `DBCP2 ì»¤ë„¥ì…˜ í’€,` `HikariCP` ì»¤ë„¥ì…˜ í’€ì„ í†µí•´ ì»¤ë„¥ì…˜ì„ ì–»ì„ ìˆ˜ ìˆìŒ


![Untitled 4](https://user-images.githubusercontent.com/61227459/186675895-5d39be4f-ade6-4b17-b204-b0a676439036.png)

â†’ ì»¤ë„¥ì…˜ì„ ë°›ëŠ” ë°©ë²•ì„ ë³€ê²½í•  ì‹œ, ì• í”Œë¦¬ì¼€ì´ì…˜ ì½”ë“œë„ í•¨ê»˜ ë³€ê²½ í•„ìš”

> `DataSource` : ì»¤ë„¥ì…˜ì„ ë°›ëŠ” ë°©ë²•ì„ ì¶”ìƒí™”
> 

```java
public interface DataSource {
	Connection getConnection() throws SQLException;
}
```


![Untitled 5](https://user-images.githubusercontent.com/61227459/186675896-99b7cb03-3906-4e04-83dd-5bddfc62485d.png)

<aside>
ğŸ’¡ `DriverManager`ë„ `DataSource`ë¥¼ í†µí•´ ì‚¬ìš© ê°€ëŠ¥í•˜ë„ë¡ `DriverManagerDataSource` ì¡´ì¬

</aside>

## ì½”ë“œ

```java
void dataSourceDriverManager() throws SQLException {
	DriverManagerDataSource dataSource = new DriverManagerDataSource(URL,
	USERNAME, PASSWORD);
	useDataSource(dataSource);
}
private void useDataSource(DataSource dataSource) throws SQLException {
	Connection con1 = dataSource.getConnection();
	Connection con2 = dataSource.getConnection();
	log.info("connection={}, class={}", con1, con1.getClass());
	log.info("connection={}, class={}", con2, con2.getClass());
}
```

> ì„¤ì •ê³¼ ì‚¬ìš©ì˜ ë¶„ë¦¬ : 
ì„¤ì • â†’ `dataSource`ë¥¼ ë§Œë“¤ì–´ì„œ ì„¤ì •
ì‚¬ìš© â†’ `getConnection()`ë§Œ í˜¸ì¶œí•´ì„œ ì‚¬ìš©
>